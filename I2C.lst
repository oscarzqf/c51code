C51 COMPILER V9.01   I2C                                                                   04/21/2021 17:38:49 PAGE 1   


C51 COMPILER V9.01, COMPILATION OF MODULE I2C
OBJECT MODULE PLACED IN I2C.obj
COMPILER INVOKED BY: C:\µ¥Æ¬»ú\C51\BIN\C51.EXE OLED_Dino-master\I2C.c BROWSE DEBUG OBJECTEXTEND PRINT(.\I2C.lst) OBJECT(
                    -I2C.obj)

line level    source

   1          
   2          #include "I2C.h"
*** WARNING C318 IN LINE 5 OF OLED_DINO-MASTER\I2C.H: can't open file 'stc8g.h'
*** ERROR C202 IN LINE 16 OF OLED_DINO-MASTER\I2C.H: 'P3': undefined identifier
*** ERROR C202 IN LINE 17 OF OLED_DINO-MASTER\I2C.H: 'P3': undefined identifier
   3          
   4          /**
   5           * @function: void Delay_5us()
   6           * @description: 5uså»¶æ—¶
   7           * @param {void} 
   8           * @return: void
   9           */
  10          void Delay_5us()
  11          {
  12   1          _nop_();
  13   1          _nop_();
  14   1          _nop_();
  15   1          _nop_();
  16   1      }
  17          
  18          /**
  19           * @function: void I2C_Start()
  20           * @description: I2Cå¼€å§‹ä¿¡å·
  21           * @param {void} 
  22           * @return: void
  23           */
  24          void I2C_Start()
  25          {
  26   1          I2C_SDA = 1;
*** ERROR C202 IN LINE 26 OF OLED_DINO-MASTER\I2C.C: 'I2C_SDA': undefined identifier
  27   1          I2C_SCL = 1;
*** ERROR C202 IN LINE 27 OF OLED_DINO-MASTER\I2C.C: 'I2C_SCL': undefined identifier
  28   1          Delay_5us();
  29   1          I2C_SDA = 0;
*** ERROR C202 IN LINE 29 OF OLED_DINO-MASTER\I2C.C: 'I2C_SDA': undefined identifier
  30   1          Delay_5us();
  31   1          I2C_SCL = 0;
*** ERROR C202 IN LINE 31 OF OLED_DINO-MASTER\I2C.C: 'I2C_SCL': undefined identifier
  32   1          Delay_5us();
  33   1      }
  34          
  35          /**
  36           * @function: void I2C_Stop()
  37           * @description: I2Cç»“æŸä¿¡å·
  38           * @param {void} 
  39           * @return: void
  40           */
  41          void I2C_Stop()
  42          {
  43   1          I2C_SCL = 1;
*** ERROR C202 IN LINE 43 OF OLED_DINO-MASTER\I2C.C: 'I2C_SCL': undefined identifier
  44   1          I2C_SDA = 0;
*** ERROR C202 IN LINE 44 OF OLED_DINO-MASTER\I2C.C: 'I2C_SDA': undefined identifier
  45   1          Delay_5us();
C51 COMPILER V9.01   I2C                                                                   04/21/2021 17:38:49 PAGE 2   

  46   1          I2C_SDA = 1;
*** ERROR C202 IN LINE 46 OF OLED_DINO-MASTER\I2C.C: 'I2C_SDA': undefined identifier
  47   1          Delay_5us();
  48   1      }
  49          
  50          /**
  51           * @function: void I2C_Wait_Ack()
  52           * @description: I2Cç­‰å¾…åº”ç­”å“åº”å‡½æ•°
  53           * @param {void} 
  54           * @return: return 1æ²¡æœ‰åº”ç­”ã€return 0äº§ç”Ÿåº”ç­”
  55           */
  56          uint I2C_Wait_Ack()
  57          {
  58   1          uint count = 0;
  59   1          I2C_SCL = 1;
*** ERROR C202 IN LINE 59 OF OLED_DINO-MASTER\I2C.C: 'I2C_SCL': undefined identifier
  60   1          Delay_5us();
  61   1          while (I2C_SDA)
*** ERROR C202 IN LINE 61 OF OLED_DINO-MASTER\I2C.C: 'I2C_SDA': undefined identifier
  62   1          {
  63   2              count++;
  64   2              if (count > 250)
  65   2              {
  66   3                  I2C_Stop();
  67   3                  return 1;
  68   3              }
  69   2          }
  70   1          I2C_SCL = 0;
*** ERROR C202 IN LINE 70 OF OLED_DINO-MASTER\I2C.C: 'I2C_SCL': undefined identifier
  71   1          Delay_5us();
  72   1          return 0;
  73   1      }
  74          
  75          /**
  76           * @function: void I2C_Ack()
  77           * @description: ä¸»æœºäº§ç”Ÿåº”ç­”ä¿¡å·
  78           * @param {void} 
  79           * @return: void
  80           */
  81          #if 0
              void I2C_Ack()
              {
                  I2C_SDA = 0;
                  _nop_();
                  I2C_SCL = 1;
                  _nop_();
                  I2C_SCL = 0;
                  _nop_();
                  I2C_SDA = 1;
              }
              #endif
  93          
  94          /**
  95           * @function: void I2C_Write_Byte(uchar WData)
  96           * @description: I2Cå†™æ•°æ®å‡½æ•°
  97           * @param {uchar WDataå¾…å†™å…¥çš„æ•°æ®} 
  98           * @return: void
  99           */
 100          void I2C_Write_Byte(uchar WData)
 101          {
 102   1          uchar i;
 103   1          for (i = 0; i < 8; i++)
C51 COMPILER V9.01   I2C                                                                   04/21/2021 17:38:49 PAGE 3   

 104   1          {
 105   2              I2C_SCL = 0;
*** ERROR C202 IN LINE 105 OF OLED_DINO-MASTER\I2C.C: 'I2C_SCL': undefined identifier
 106   2              _nop_();
 107   2              _nop_();
 108   2              if (WData & 0x80) //å…ˆå‘é€é«˜å­—èŠ‚æ•°æ®ï¼Œåå‘é€ä½å­—èŠ‚æ•°æ®
 109   2                  I2C_SDA = 1;
*** ERROR C202 IN LINE 109 OF OLED_DINO-MASTER\I2C.C: 'I2C_SDA': undefined identifier
 110   2              else
 111   2                  I2C_SDA = 0;
*** ERROR C202 IN LINE 111 OF OLED_DINO-MASTER\I2C.C: 'I2C_SDA': undefined identifier
 112   2              _nop_();
 113   2              _nop_();
 114   2              I2C_SCL = 1; //æ•°æ®å†™å…¥æ€»çº¿
*** ERROR C202 IN LINE 114 OF OLED_DINO-MASTER\I2C.C: 'I2C_SCL': undefined identifier
 115   2              _nop_();
 116   2              _nop_();
 117   2              I2C_SCL = 0;
*** ERROR C202 IN LINE 117 OF OLED_DINO-MASTER\I2C.C: 'I2C_SCL': undefined identifier
 118   2              WData <<= 1; //å‡†å¤‡å†™å…¥ä¸‹ä¸€ä½æ•°æ®
 119   2          }
 120   1      }
 121          
 122          /**
 123           * @function: uchar I2C_Read_Byte()
 124           * @description: I2Cè¯»å–æ•°æ®å‡½æ•°
 125           * @param {void} 
 126           * @return: return RDataè¯»å–çš„æ•°æ®
 127           */
 128          #if 0
              uchar I2C_Read_Byte()
              {
                  uchar i, RData = 0;
                  I2C_SDA = 1; //é‡Šæ”¾æ•°æ®æ€»çº¿
                  _nop_();
                  _nop_();
                  for (i = 0; i < 8; i++)
                  {
                      RData <<= 1; //å‡†å¤‡è¯»å–ä¸‹ä¸€ä½æ•°æ®
                      I2C_SCL = 0;
                      _nop_();
                      I2C_SCL = 1; //å¯ä»¥å¼€å§‹è¯»å–æ•°æ®
                      _nop_();
                      _nop_();
                      if (I2C_SDA)
                          RData |= 0x01; //1å†™å…¥RDataæ­¤åˆ»çš„æœ€ä½ä½
                      else
                          RData &= 0xfe; //0å†™å…¥RDataæ­¤åˆ»çš„æœ€ä½ä½
                  }
                  I2C_SCL = 0;
                  _nop_();
                  _nop_();
                  return RData;
              }
              #endif

C51 COMPILATION COMPLETE.  1 WARNING(S),  17 ERROR(S)
